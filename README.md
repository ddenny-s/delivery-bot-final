# üì¶ Delivery Bot

Telegram –±–æ—Ç –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –¥–æ—Å—Ç–∞–≤–æ–∫ –∏–∑ Gmail.

## üéØ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–∞—Ä—Å–∏–Ω–≥ –ø–∏—Å–µ–º –æ –¥–æ—Å—Ç–∞–≤–∫–∞—Ö (GPT)
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –¥–æ—Å—Ç–∞–≤–∫–∏
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Telegram –∫–æ–º–∞–Ω–¥—ã
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –¥–æ—Å—Ç–∞–≤–æ–∫ –≤ –ë–î
- ‚úÖ –í—Å–µ —Å–µ–∫—Ä–µ—Ç—ã –∏–∑ Google Cloud

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Python 3.11+
- Gmail –∞–∫–∫–∞—É–Ω—Ç
- Telegram –±–æ—Ç
- OpenAI API –∫–ª—é—á
- Google Cloud –ø—Ä–æ–µ–∫—Ç

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
pip install -r requirements.txt
python main.py
```

## üîê –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–í—Å–µ —Å–µ–∫—Ä–µ—Ç—ã –ø–æ–ª—É—á–∞—é—Ç—Å—è –∏–∑ Google Cloud Secret Manager:

1. –°–æ–∑–¥–∞–π —Å–µ–∫—Ä–µ—Ç—ã –≤ Google Cloud:
   - `openai-api-key`
   - `telegram-bot-token`
   - `telegram-chat-id`

2. –£—Å—Ç–∞–Ω–æ–≤–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
   - `GCP_PROJECT_ID` - ID —Ç–≤–æ–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
   - `OPENAI_API_KEY` - –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
   - `TELEGRAM_BOT_TOKEN` - –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
   - `TELEGRAM_CHAT_ID` - –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

## üì± –ö–æ–º–∞–Ω–¥—ã

- `/start` - –ù–∞—á–∞—Ç—å
- `/check` - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏
- `/status` - –ê–∫—Ç–∏–≤–Ω—ã–µ –¥–æ—Å—Ç–∞–≤–∫–∏
- `/stats` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- `/mark_done <–Ω–æ–º–µ—Ä>` - –û—Ç–º–µ—Ç–∏—Ç—å –∫–∞–∫ –∑–∞–±—Ä–∞–Ω–Ω—É—é
- `/delete <–Ω–æ–º–µ—Ä>` - –£–¥–∞–ª–∏—Ç—å –¥–æ—Å—Ç–∞–≤–∫—É
- `/help` - –°–ø—Ä–∞–≤–∫–∞

## üåê –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ Google Cloud

```bash
gcloud run deploy delivery-bot \
  --source . \
  --platform managed \
  --region europe-west1 \
  --allow-unauthenticated
```

## üìù –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
delivery_bot/
‚îú‚îÄ‚îÄ config.py           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–∏–∑ Google Cloud)
‚îú‚îÄ‚îÄ main.py             # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ app.py              # Flask –¥–ª—è Cloud Run
‚îú‚îÄ‚îÄ gmail_client.py     # Gmail API
‚îú‚îÄ‚îÄ delivery_parser.py  # –ü–∞—Ä—Å–∏–Ω–≥ —Å GPT
‚îú‚îÄ‚îÄ telegram_bot.py     # Telegram –±–æ—Ç
‚îú‚îÄ‚îÄ database.py         # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ requirements.txt    # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ .env                # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ Dockerfile          # –î–ª—è –æ–±–ª–∞–∫–∞
‚îî‚îÄ‚îÄ .gitignore          # Git ignore
```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ –í—Å–µ —Å–µ–∫—Ä–µ—Ç—ã –∏–∑ Google Cloud Secret Manager
- ‚úÖ –ù–∏–∫–∞–∫–∏—Ö API –∫–ª—é—á–µ–π –≤ –∫–æ–¥–µ
- ‚úÖ –ù–∏–∫–∞–∫–∏—Ö –ª–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
- ‚úÖ .env –≤ .gitignore

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã - –ø—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ –≤ `delivery_bot.log`

---

**–í–µ—Ä—Å–∏—è:** 2.0.0  
**–Ø–∑—ã–∫:** –†—É—Å—Å–∫–∏–π
